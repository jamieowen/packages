{"version":3,"file":"controlflow-d41082a2.js","sources":["../../../../../node_modules/@thi.ng/shader-ast/ast/controlflow.js"],"sourcesContent":["import { decl, scope } from \"./scope\";\nexport const ifThen = (test, truthy, falsey) => ({\n    tag: \"if\",\n    type: \"void\",\n    test,\n    t: scope(truthy),\n    f: falsey ? scope(falsey) : undefined,\n});\nexport const ternary = (test, t, f) => ({\n    tag: \"ternary\",\n    type: t.type,\n    test,\n    t,\n    f,\n});\nexport function forLoop(...xs) {\n    const [init, test, iter, body] = xs.length === 2\n        ? [, xs[0], , xs[1]]\n        : xs.length === 3\n            ? [xs[0], xs[1], , xs[2]]\n            : xs;\n    return {\n        tag: \"for\",\n        type: \"void\",\n        init: init ? decl(init) : undefined,\n        test: test(init),\n        iter: iter ? iter(init) : undefined,\n        scope: scope(body(init)),\n    };\n}\nexport const whileLoop = (test, body) => ({\n    tag: \"while\",\n    type: \"void\",\n    test,\n    scope: scope(body),\n});\nconst ctrl = (id) => ({\n    tag: \"ctrl\",\n    type: \"void\",\n    id,\n});\nexport const brk = ctrl(\"break\");\nexport const cont = ctrl(\"continue\");\nexport const discard = ctrl(\"discard\");\n"],"names":[],"mappings":";;AACY,MAAC,MAAM,GAAG,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,MAAM;AACjD,IAAI,GAAG,EAAE,IAAI;AACb,IAAI,IAAI,EAAE,MAAM;AAChB,IAAI,IAAI;AACR,IAAI,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC;AACpB,IAAI,CAAC,EAAE,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,SAAS;AACzC,CAAC;;;;"}