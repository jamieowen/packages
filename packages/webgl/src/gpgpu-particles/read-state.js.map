{
  "version": 3,
  "sources": ["/Users/jamieowen/Workspace/packages/packages/webgl/src/gpgpu-particles/read-state.ts"],
  "sourcesContent": ["import {\n  uniform,\n  input,\n  assign,\n  sym,\n  sub,\n  texture,\n  $xyz,\n  $x,\n  $y,\n  $z,\n  $w,\n  Sym,\n  Term,\n  ifThen,\n  gt,\n  float,\n  Vec3Sym,\n  FloatSym,\n  Vec3Term,\n  add,\n  FloatTerm,\n  defn,\n  Vec4Term,\n  vec3,\n  mul,\n  ret,\n  TaggedFn1,\n} from \"@thi.ng/shader-ast\";\nimport { curlNoise3, snoiseVec3 } from \"@thi.ng/shader-ast-stdlib\";\n/**\n *\n * @description\n *\n * Declare setup for 2 state values,\n * read them in a\n *\n * @example\n *\n * const read = readState2();\n * return program([\n *  ...read.decl,\n *  defMain(()=>[\n *    ...read.main\n *  ])\n * ])\n */\nexport const readState2 = () => {\n  // Decl\n  const uni_state1 = uniform(\"sampler2D\", \"state_1\");\n  const uni_state2 = uniform(\"sampler2D\", \"state_2\");\n  const input_vUv = input(\"vec2\", \"vReadUV\"); // TODO: Rename vReadUV - vUv\n\n  // Main\n  const s1 = sym(texture(uni_state1, input_vUv));\n  const s2 = sym(texture(uni_state2, input_vUv));\n\n  const position = sym($xyz(s1));\n  // const velocity = sym(sub($xyz(s2), $xyz(s1)));\n  const velocity = sym(sub($xyz(s1), $xyz(s2)));\n  const age = sym($w(s1));\n\n  return {\n    // Enforce types.\n    // Typescript seems to only apply a union / or type on array contents ( not order )\n    decl: [uni_state1, uni_state2, input_vUv] as [\n      Sym<\"sampler2D\">,\n      Sym<\"sampler2D\">,\n      Sym<\"vec2\">\n    ],\n    main: [s1, s2, position, velocity, age] as [\n      Sym<\"vec4\">,\n      Sym<\"vec4\">,\n      Sym<\"vec3\">,\n      Sym<\"vec3\">,\n      Sym<\"float\">\n    ],\n  };\n};\n\n// ++ readState1\n"],
  "mappings": "AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+CO,aAAM,aAAa,MAAM;AAE9B,QAAM,aAAa,QAAQ,aAAa;AACxC,QAAM,aAAa,QAAQ,aAAa;AACxC,QAAM,YAAY,MAAM,QAAQ;AAGhC,QAAM,KAAK,IAAI,QAAQ,YAAY;AACnC,QAAM,KAAK,IAAI,QAAQ,YAAY;AAEnC,QAAM,WAAW,IAAI,KAAK;AAE1B,QAAM,WAAW,IAAI,IAAI,KAAK,KAAK,KAAK;AACxC,QAAM,MAAM,IAAI,GAAG;AAEnB,SAAO;AAAA,IAGL,MAAM,CAAC,YAAY,YAAY;AAAA,IAK/B,MAAM,CAAC,IAAI,IAAI,UAAU,UAAU;AAAA;AAAA;",
  "names": []
}
